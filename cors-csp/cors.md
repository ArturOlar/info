CORS - Cross Origin Resource Sharing

- C-cross
- O-origin (походження) - комбінація із протокол+домен+порт
- R-resource - мається на увазі будь-який ресурс в інтернеті, наприклад: зображення, API, шрифти і тд
- S-sharing 

---

Як працює?

Якщо в нас є фронт-енд за адресою `https://example.com`, і наш бек-енд за адресою `https://backend-api.com`, то ми можемо бачити що це різні сайти (тобто, в них різний origin), і фронт-енд в цьому випадку не зможе відправити запит на бек-енд API. Для того щоб це вирішити, на сервері `https://backend-api.com`, потрібно вказати, що ми дозволяємо сайту `https://example.com` отримувати інформацію (для цього на сервері потрібно додати певні хедери, про що буде нижче). Налаштувавши бек-енд (вказавши що `https://example.com` може отримувати інформацію із нашого сервера), то далі наш фронт-енд сайт може робити реквести на бек-енд сайт.

--- 

Заголовки

- `Access-Control-Allow-Origins` - загаловок який ми вказуємо на бек-енді. В цьому заголовку вказуємо що ми дозволяємо певному чи певним сайтам робити запити до нас. Якщо дивитись приклад вище, то тут ми можем написати `https://example.com`, і це буде означати що якщо сайт `https://example.com` відправить на наш бек-енд реквест, то наш бек-енд його зможе опрацювати
- `Access-Control-Allow-Headers` - заголовок який вже повертає сервер, в ньому вказана інформація який заголовок може приймати сервер
- `Access-Control-Allow-Methods` - заголовок який вже повертає сервер, в ньому вказано які методи може опрацювати сервер
- `Access-Control-Max-Age` - заголовоки який означає на скільки секунд закешувати результат сервера (щоб кожний раз не відправляти реквест на сервер)
- `Access-Control-Request-Headers` - заголовки які відправдяє браузер до сервера
- `Access-Control-Request-Methods` - заголовки які відправляє бразуер до сервера

---

Прості та Preflight реквести

- прості - які мають методи `GET`, `HEAD`, `POST`. Хереди повинні бути тільки дозволені із списку (дивитись документацію)
- preflight - всі інші реквести 
- що це означає? в простих реквестах, буде одразу відбуватись реквест до ресурса. В preflight реквестах, спочатку браузер відправить `OPTIONS` реквест і тільки після цього основний реквест. `OPTIONS` реквест браузер відправляє щоб переконатись, чи може він відправити наступний реквест (чи може сервер обробити хедери та метод, наприклад `PUT` чи `PATCH`). 